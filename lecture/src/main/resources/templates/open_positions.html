<!DOCTYPE HTML>
<html th:replace="~{layout :: layout(~{::title}, ~{::#main-content})}" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Open Forex Positions</title>
</head>
<body>
    <div id="main-content">
        <section class="main special">
            <header class="major">
                <h2>Your Open Forex Positions</h2>
            </header>
            <div th:if="${openTrades != null and not #lists.isEmpty(openTrades)}">
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Trade ID</th>
                                <th>Instrument</th>
                                <th>Units</th>
                                <th>Open Time</th>
                                <th>Price</th>
                                <th>Unrealized P/L</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="trade : ${openTrades}">
                                <td th:text="${trade.getId()}"></td>
                                <td th:text="${trade.getInstrument()}"></td>
                                <td th:text="${trade.getCurrentUnits()}"></td>
                                <td th:text="${trade.getOpenTime()}"></td>
                                <td th:text="${trade.getPrice()}"></td>
                                <td th:text="${trade.getUnrealizedPL()}"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div th:if="${openTrades == null or #lists.isEmpty(openTrades)}">
                <p>No open positions found.</p>
            </div>
            <div th:if="${errorMessage}">
                <p style="color: red;" th:text="${errorMessage}"></p>
            </div>
        </section>
    </div>
</body>
</html>
